<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../view-index.html">
<link rel="import" href="../shared-styles.html">
<dom-module id="view-dashboard-overview">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        --app-grid-item-height: 50%;
      }
      
       @media (min-width: 360px) and (max-width: 768px) {
         :host {
          --app-grid-columns: 1;
        }
      }

      @media (min-width: 769px) and (max-width: 1024px) {
         :host {
          --app-grid-columns: 3;
        }
      }

      @media (min-width: 1025px) and (max-width: 1200px) {
         :host {
          --app-grid-columns: 3;
        }
      }
       @media (min-width: 1201px) and (max-width: 2560px) {
         :host {
          --app-grid-columns: 3;
        }
      }
    </style>
<firebase-query app-name="smart-mes" id="orderQuery" path="/order" data="{{orderItems}}"></firebase-query>
    <ul class="app-grid">
      <li>
        <div class="card">
          <h1>In-Production</h1>
          N/A
        </div>
      </li>
      <li>
        <div class="card">
          <h1>Order in queue</h1>
          [[orderCount]]
          <paper-button raised on-tap="orderCount">T</paper-button>
        </div>
      </li>
      <li>
        <div class="card">
          <h1>Stock Available</h1>
          <google-chart
  type='pie'
  options='{"title": "Current stock"}'
  cols='[{"label":"Name", "type":"string"}, {"label":"Quantity", "type":"number"}]'
  rows='[ ["A", 31],["B", 28],["C", 31] ]'>
</google-chart>
          </div>
      </li>
    </ul>
  </template>

  <script>
    Polymer({
      is: 'view-dashboard-overview',
      orderCount: function() {
        let qno = Object.keys(this.orderItems).length;
        console.log(qno);
        if(qno == null) {
          return 0;
        }
        else {
        return qno;
        }
      },
      properties: {
        orderItems: {
          type: Object
        }
      }
    });
  </script>
</dom-module>
